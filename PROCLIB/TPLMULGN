//TPLMULGN  PROC  CBN='?', NAME FOR CODEBOOK OR LIBRARY
//     CBPREFX='USERX', INITIALS PREFIX FOR CODEBOOK OR LIBRARY<<
//     DATA=NULLFILE, NAME OF DATA FILE TO BE TABULATED
//     SEQ=1,         FILE SEQUENCE NO. ON ITS VOL. FOR DATA FILE
//     LAB=SL,        TYPE OF LABELS ON ITS VOL. FOR DATA FILE
//     DBGDSN='SYS2.TPL.V6.LOADLIB', NAME FOR DATABASE "DBGEN"       <<
//     DBMS=NONE,     NAME OF DATABASE MANAGEMENT SYSTEM BEING USED  <<
//     LISTING='A',   SYSOUT SPECIFICATION FOR ALL LISTINGS          <<
//     CORE=500K,     REGION ACTUALLY USED FOR PROGRAMS OF TPL STEP
//     TPLMAX=2000K,  MAXIMUM REGION USED DURING TPL STEP
//     CLNAME='&&CELLS', NAME FOR CELLS WORKFILE PASSED TO NEXT STEP
//     CLUNIT=WORK,  UNIT TYPE FOR CELLS WORKFILE
//     CLTYPE=NEW,    INITIAL STATUS OF CELLS WORKFILE
//     CLDISP=PASS,   DISPOSITION OF CELLS WORKFILE AT NORMAL STEP END
//     CLBOMB='DELETE', DISPOSITION OF CELLS WORKFILE IF ABEND OCCURS
//     CLSP=4000,     INITIAL # BLOCKS SPACE FOR CELLS WORKFILE
//     CLIN=20,       SECONDARY SPACE # BLOCKS FOR CELLS WORKFILE
//     CLSEQ=1,       SEQUENCE NO. ON VOLUME FOR CELLS WORKFILE
//     CLLAB='SL',    LABEL TYPE FOR CELLS WORKFILE
//     EXPRET='RETPD', CHOICE OF "EXPDT" OR "RETPD" FOR CELLS IF TAPE<<
//     RETPD=00,     DEFAULT RETPD FOR CELLS WORKFILE IF ON TAPE    <<
//     SWNAME='&&SWITCH', NAME FOR SWITCH WORKFILE PASSED TO NEXT STEP
//     SWUNIT='WORK', UNIT TYPE FOR SWITCH WORKFILE
//     SWTYPE='NEW',  INITIAL STATUS FOR SWITCH WORKFILE
//     SWDISP='PASS', DISPOSITION OF SWITCH WORKFILE AT NORMAL STEP END
//     SWBOMB='DELETE', DISPOSITION FOR SWITCH WORKFILE IF ABEND OCCURS
//     SWSP=1,        INITIAL # BLOCKS SPACE FOR SWITCH WORKFILE
//     SWIN=1,        SECONDARY SPACE (# BLOCKS) FOR SWITCH WORKFILE
//     COORSP=400,    NO. OF BLKS FOR COORDINATES WORKFILE
//     SPC1SP=200,    INITIAL NO. OF BLKS FOR TABLE SPECS WORKFILE
//     SPC2SP=200,    NO. OF BLKS FOR PCL'S NEW TBSPECS WORKFILE
//     CBUNIT=3380,   DEVICE TYPE FOR CODEBOOK OR LIBRARY            <<
//     TMPSP=125,     NO OF BLKS FOR "TEMP" WORKFILE
//     DICNAME='BLS.HYPHEN.DICT',  NAME OF DICTIONARY
//     DICPRE='SYS2.TPL.V6', PREFIX FOR DICTIONARY DSNAME            <<
//     PRODSN='SYS2.TPL.V6.DEFAULT.PROFILE', DSNAME OF PROFILE       <<
//     CBKBLK=2976,CBVER=6,
//     CGNDSN='SYS2.TPL.V6.OBJLIB(CGNOBJ)',
//     CLLREC='32',CLRECF='FB',
//     COBLK=2976,COLRECL=24,CORECFM=FB,
//     CONTROL=IEFBR14,CONMAX=100K,
//     DATFREE=100,
//     DSPDSN='SYS2.TPL.V6.OBJLIB(DSPOBJ)',
//     MONITOR=TPLMONTR,
//     MONLIB='SYS2.TPL.V6.LOADLIB', <<
//     PCLDSN='SYS2.TPL.V6.OBJLIB(PCLOBJ)',
//     POTDSN='SYS2.TPL.V6.OBJLIB(POTOBJ)',
//     QUOT='''',
//     RAPDSN='NULLFILE', <<
//     SWBLK='800',SWLREC='80',SWRECF='FB',
//     TOTDSN='NULLFILE', <<
//     TPLBLK=2976,
//     TPLOPT=,
//     TRNDSN='SYS2.TPL.V6.OBJLIB(TRNOBJ)'
//*********************************************************************
//*                                                                   *
//*      T P L M U L G N - - A PROCEDURE TO GENERATE TABLES WITH TPL, *
//*           IN A MULTIPLE-STEP PROCESS.  THIS CAN BE USED WITH A    *
//*           MULTIPLE-COPY DATABASE, OR WITH A DATA FILE SPLIT AMONG *
//*           SEVERAL LARGE DATASETS.                                 *
//*           A CELL WORKFILE AND A SWITCH WORKFILE WILL BE PRODUCED, *
//*           AND WILL BE PASSED DOWN TO A FOLLOWING STEP WHICH MUST  *
//*           EXECUTE EITHER THIS PROCEDURE AGAIN, OR ONE OF EITHER   *
//*           "TPLGENTB" OR "TPLTPGEN".                               *
//*                                                                   *
//*      VALUES FOR THE FOLLOWING PARAMETERS MUST BE SUPPLIED:        *
//*           CBN='cccccccc',CBPREFX='CNaaaa.iii',                    *
//*           DATA='zzz'                                              *
//*                                                                   *
//*      FOR THE FIRST USE OF THIS PROCEDURE IN THE JOB, A DD CARD    *
//*           MUST BE ADDED IN THE "TPL" STEP, AFTER THE TPL REQUEST  *
//*           AND (IF PRESENT) THE TPL CHANGES, (BUT BEFORE ANY DD    *
//*           CARDS FOR THE DATABASE, IF IT IS A TOTAL OR RAPID JOB)  *
//*           AS FOLLOWS:                                             *
//*                //TPL.INSWITCH  DD  DUMMY                          *
//*                                                                   *
//*      FOR THE INTERMEDIATE STEPS (NEITHER FIRST NOR LAST STEPS),   *
//*           NO ADDITIONAL DD CARDS ARE REQUIRED BEYOND THOSE        *
//*           NORMALLY PRESENT IN A TABLE GENERATION RUN.             *
//*                                                                   *
//*       ON THE "EXEC" CARD IN EACH INTERMEDIATE STEP, THE FOLLOWING *
//*          TWO PARAMETERS MUST BE SPECIFIED:                        *
//*             SWTYPE=OLD,CLNAME='UNIQUE NAME'                       *
//*          WHERE "UNIQUE NAME" IS A UNIQUE NAME FOR THE CELL        *
//*          WORKFILE BEING CREATED IN THAT STEP.                     *
//*                                                                   *
//*      FOR THE LAST TABLE GENERATION STEP, WHICH EXECUTES EITHER    *
//*           "TPLGENTB" OR "TPLTPGEN", THE FIRST REQUIRED CARD IS    *
//*           THE "//TPL.INSWITCH" DD CARD WHICH DESCRIBES THE        *
//*           CARD-FORMAT DATASET PRODUCED BY THE IMMEDIATELY         *
//*           PRECEDING STEP WHICH EXECUTED "TPLMULGN".               *
//*           A BLANK "//PRESORT.SORTIN" DD CARD MUST BE ADDED IN THE *
//*           FINAL STEP, FOLLOWED BY CONCATENATED DD CARDS WHICH     *
//*           DESCRIBE EACH PASSED CELL WORKFILE COMPLETELY.          *
//*                                                                   *
//*      THE TPL STATEMENTS COMPRISING THE REQUEST MUST BE DESCRIBED  *
//*           BY A "//TPL.REQUEST" DD CARD.  THE IDENTICAL TPL        *
//*           REQUEST MUST BE USED IN EACH "TPLMULGN" AND "TPLGENTB"  *
//*           OR "TPLTPGEN" STEP IN A JOB.                            *
//*                                                                   *
//*      ANY PCL STATEMENTS MODIFYING THE TABLES MUST BE DESCRIBED BY *
//*           A "//TPL.CHANGES" DD CARD, WHICH MUST ITSELF FOLLOW THE *
//*           "//TPL.REQUEST" DD CARD.                                *
//*                                                                   *
//*      THE "//TPL.INSWITCH" CARD, WHEN PRESENT, MUST FOLLOW AFTER   *
//*           THE "//TPL.CHANGES" DD CARD; IF NO PCL STATEMENTS ARE   *
//*           PRESENT, THEN IT MUST FOLLOW AFTER THE "//TPL.REQUEST"  *
//*           DD CARD.  THIS PLACEMENT REQUIREMENT IS TRUE FOR        *
//*           "TPLGENTB", "TPLTPGEN", AND "TPLMULGN".                 *
//*                                                                   *
//*      THIS PROCEDURE EXECUTES VERSION 6 OF THE TPL SYSTEM.         *
//*                                                                   *
//*      IN CASE OF PROBLEMS, CONTACT THE TPL SYSTEM TEAM.            *
//*            TELEPHONE:  357-5999                                   *
//*                                          LAST UPDATED ON 08/21/84 *
//*********************************************************************
//*
//*
//SYSCNTRL  EXEC  PGM=&CONTROL,REGION=&CONMAX
//* *****     ALLOCATE WORKING DATASETS                         *******
//TPLSPEC  DD  DSN=&&TPLSPEC,UNIT=WORK,DISP=(NEW,PASS),
//  SPACE=(&TPLBLK,(&SPC1SP))
//TBCLS1  DD  DSN=&CLNAME,UNIT=&CLUNIT,
//  DISP=(&CLTYPE,PASS),SPACE=(&TPLBLK,(&CLSP,&CLIN))
//COORD  DD  DSN=&&COORD,UNIT=WORK,DISP=(NEW,PASS),
//  DCB=(RECFM=&CORECFM,LRECL=&COLRECL,BLKSIZE=&COBLK),
//  SPACE=(&TPLBLK,(&COORSP))
//TBSPECS  DD  DSN=&&TBSPECS,UNIT=WORK,DISP=(NEW,PASS),
//  SPACE=(&TPLBLK,(&SPC2SP))
//PROFILE  DD  DSN=&PRODSN,DISP=SHR
//*
//*
//TPL  EXEC  PGM=&MONITOR,REGION=&TPLMAX,
//  COND=(0,LT,SYSCNTRL),
//  PARM='FILE=&TPLBLK,FILE2=&CBKBLK,FREE=&DATFREE,MAX=&CORE,&TPLOPT'
//* *****     THE WORKING STEP:  THE TPL TRANSLATION PHASE, THE *******
//* *****     PCL TRANSLATION PHASE, THE POST-TRANSLATION       *******
//* *****     PHASE, THE DISPATCHER PHASE, AND THE CELL         *******
//* *****     GENERATION PHASE.                                 *******
//STEPLIB  DD  DSN=&DBGDSN,DISP=SHR
//  DD  DDNAME=&DBMS.LIB
//  DD  DSN=&MONLIB,DISP=SHR
//TOTALLIB  DD  DSN=&TOTDSN,DISP=SHR
//RAPIDLIB  DD  DSN=&RAPDSN,DISP=SHR
//NONELIB  DD  DSN=&MONLIB,DISP=SHR
//PROGRAM  DD  DSN=&TRNDSN,DISP=SHR
//  DD  DSN=&PCLDSN,DISP=SHR
//  DD  DSN=&POTDSN,DISP=SHR
//  DD  DSN=&DSPDSN,DISP=SHR
//  DD  DSN=&CGNDSN,DISP=SHR
//SYSPRINT  DD  SYSOUT=&LISTING
//OUTPUT3  DD  DUMMY
//FILE1  DD  DSN=&&TPLSPEC,DISP=(OLD,DELETE,KEEP)
//FILE2  DD  DSN=&QUOT.&CBPREFX..CB.V&CBVER..&CBN.&QUOT,
//  UNIT=&CBUNIT,DISP=SHR
//INPUT2  DD  DDNAME=DATA
//DATA  DD  DSN=&QUOT.&DATA.&QUOT,
//  LABEL=(&SEQ,&LAB),DISP=SHR
//SYSIN  DD  DDNAME=REQUEST
//REQUEST  DD  DUMMY
//FILE4  DD  DSN=&&TBSPECS,DISP=(OLD,DELETE,DELETE)
//FILE5  DD  DSN=&&TEMP,UNIT=WORK,SPACE=(&TPLBLK,(&TMPSP)),
//  DISP=(NEW,DELETE)
//FILE3  DD  DSN=&&COORD,DISP=(OLD,DELETE)
//SYSPUNCH  DD  DUMMY
//INPUT4  DD  DUMMY
//INPUT3  DD  DSN=&PRODSN,DISP=SHR
//  DD  DDNAME=CHANGES
//CHANGES  DD  DUMMY
//OUTPUT6  DD  DUMMY
//OUTPUT4  DD  DSN=&SWNAME,UNIT=&SWUNIT,
//  DISP=(&SWTYPE,&SWDISP,&SWBOMB),SPACE=(&SWBLK,(&SWSP,&SWIN),RLSE),
//  DCB=(RECFM=&SWRECF,LRECL=&SWLREC,BLKSIZE=&SWBLK)
//INPUT7  DD  DDNAME=INSWITCH
//INSWITCH  DD  DSN=*.OUTPUT4,VOL=REF=*.OUTPUT4,
//  DISP=(SHR,&SWDISP,&SWBOMB)
//FILE6  DD  DSN=&CLNAME,DISP=(OLD,&CLDISP,&CLBOMB),
//  DCB=(RECFM=&CLRECF,LRECL=&CLLREC,BLKSIZE=&TPLBLK),
//  SPACE=(&TPLBLK,(&CLSP,&CLIN),RLSE),
//  LABEL=(&CLSEQ,&CLLAB,,OUT,&EXPRET=&RETPD)                        <<
//OUTPUT5  DD  DUMMY
//FILE7  DD  DSN=*.FILE5,VOL=REF=*.FILE5,DISP=(SHR,DELETE)
//FILE8  DD  DSN=&DICPRE..&DICNAME..DICOBJ,DISP=SHR
//OUTPUT7  DD  SYSOUT=&LISTING,DCB=(RECFM=FA,LRECL=133,BLKSIZE=133)
//RAPSYSP  DD  SYSOUT=&LISTING
//*        END OF PROCEDURE FOR GENERATING TABLES IN A MULTIPLE STEP
//*               PROCESS.
//*  PEND
