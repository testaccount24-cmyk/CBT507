//CBKENTER  PROC  CBN='NAME.FOR.CODEBOOK.LIBRARY.IS.REQUIRED',
//     CBPREFX='USERX', REQUIRED.FOR.ALL.USERS', ACCT & INITIALS  <<
//     CORE=500K,     CORE USED FOR PROGRAMS OF CB & WRITEIT STEPS
//     CBKMAX=2000K,  MAXIMUM REGION USED IN CB, SORT, & WRITEIT STEPS
//     LISTING='A',   SYSOUT SPECIFICATION FOR ALL LISTINGS          <<
//     NAMSP=350,     SPACE FOR NAME INDEX WORKFILE (IN 100'S OF NAMES)
//     NAMIN=35,      SECONDARY SPACE ALLOCATION SIZE FOR NAME INDEX
//     TOBSP=300,     NO. OF BLOCKS FOR TEMPORARY OBJECT CODEBOOK
//     SORTSP=160,    SPACE IN 100'S OF NAMES FOR EACH OF 6 SORTWORKS
//     TMPSP=100,     NO. OF BLOCKS FOR "TEMP" WORKFILES
//*    CBUNIT=3380,   DEVICE TYPE FOR CODEBOOK LIBRARY               <<
//     QUOT='''',     TO ALLOW OS-ILLEGAL CBN VALUE
//     ABSDSN='SYS2.TPL.V6.OBJLIB(ABSOBJ)', <
//     CBKBLK=2976,CBVER=6,
//     CONTROL=IEFBR14,CONMAX=100K,
//     FREE=100,
//     LIBDSN='SYS2.TPL.V6.OBJLIB(LIBOBJ)', <
//     LOKDSN='SYS2.TPL.V6.LOCK.FILE',
//     MONITOR=TPLMONTR,
//     MONLIB='SYS2.TPL.V6.LOADLIB', <<
//     NAMBLK=3500,NAMLREC=35,NAMRECF=FB,
//     RDRDSN='SYS2.TPL.V6.OBJLIB(RDROBJ)', <
//     RDROPT=,
//     SORTPGM=SORT,                                                 <<
//     WRIDSN='SYS2.TPL.V6.OBJLIB(WRIOBJ)', <
//     WRTOPT=
//*********************************************************************
//*                                                                   *
//*      C B K E N T E R -- A PROCEDURE TO ENTER A CODEBOOK INTO      *
//*                         A CODEBOOK LIBRARY.                       *
//*                                                                   *
//*      THIS PROCEDURE CAN BE USED EITHER TO ADD A NEW CODEBOOK,     *
//*           OR TO REPLACE AN EXISTING CODEBOOK IN THE LIBRARY.      *
//*                                                                   *
//*      THE FOLLOWING PARAMETERS MUST BE SUPPLIED:                   *
//*           CBN='cccccccc',CBPREFX='CNaaaa.iii'                     *
//*                                                                   *
//*      THE STATEMENTS DESCRIBING THE SOURCE CODEBOOK MUST           *
//*           FOLLOW A "//CB.CODEBOOK" DD CARD.                       *
//*                                                                   *
//*      THIS PROCEDURE EXECUTES VERSION 6 OF THE TPL SYSTEM.         *
//*                                                                   *
//*      IN CASE OF PROBLEMS, CONTACT THE TPL SYSTEM TEAM;            *
//*            TELEPHONE:  357-5999                                   *
//*                                          LAST UPDATED ON 08/21/84 *
//*********************************************************************
//*
//*
//SYSCNTRL  EXEC  PGM=&CONTROL,REGION=&CONMAX
//* *****     ALLOCATE WORKING DATASETS                         *******
//TMPOBJ  DD  DSN=&&TMPOBJ,UNIT=WORK,DISP=(NEW,PASS),
//  SPACE=(&CBKBLK,(&TOBSP))
//SORTWK01  DD  DSN=&&WORK1,UNIT=WORK,DISP=(NEW,PASS),
//  SPACE=(&NAMBLK,(&SORTSP),,CONTIG)
//SORTWK02  DD  DSN=&&WORK2,UNIT=WORK,DISP=(NEW,PASS),
//  SPACE=(&NAMBLK,(&SORTSP),,CONTIG)
//SORTWK03  DD  DSN=&&WORK3,UNIT=WORK,DISP=(NEW,PASS),
//  SPACE=(&NAMBLK,(&SORTSP),,CONTIG)
//SORTWK04  DD  DSN=&&WORK4,UNIT=WORK,DISP=(NEW,PASS),
//  SPACE=(&NAMBLK,(&SORTSP),,CONTIG)
//SORTWK05  DD  DSN=&&WORK5,UNIT=WORK,DISP=(NEW,PASS),
//  SPACE=(&NAMBLK,(&SORTSP),,CONTIG)
//SORTWK06  DD  DSN=&&WORK6,UNIT=WORK,DISP=(NEW,PASS),
//  SPACE=(&NAMBLK,(&SORTSP),,CONTIG)
//NAMES  DD  DSN=&&NAMEREC,UNIT=WORK,DISP=(NEW,PASS),
//  SPACE=(&NAMBLK,(&NAMSP,&NAMIN)),
//  DCB=(RECFM=&NAMRECF,LRECL=&NAMLREC,BLKSIZE=&NAMBLK)
//NAMES2  DD  DSN=&&NAMEREC,VOL=REF=*.NAMES,DISP=(SHR,PASS)
//LIBRARY  DD  DSN=&QUOT.&CBPREFX..CB.V&CBVER..&CBN.&QUOT,
//  DISP=(SHR,PASS)
//*
//*
//CB  EXEC  PGM=&MONITOR,REGION=&CBKMAX,
//  PARM='FILE=&CBKBLK,FREE=&FREE,MAX=&CORE,&RDROPT',
//  COND=(0,LT,SYSCNTRL)
//* *****     READ THE SOURCE CODEBOOK AND BEGIN THE ANALYSIS   *******
//STEPLIB  DD  DSN=&MONLIB,DISP=(SHR,PASS)
//PROGRAM  DD  DSN=&RDRDSN,DISP=SHR
//INPUT7  DD  DUMMY
//SYSPRINT  DD  SYSOUT=&LISTING
//SYSPUNCH  DD  DSN=&&SORTCTL,UNIT=WORK,DISP=(NEW,PASS),
//  SPACE=(TRK,(1,1),RLSE),DCB=(RECFM=FB,LRECL=80,BLKSIZE=400)
//OUTPUT3  DD  DSN=&&NAMEREC,DISP=(OLD,PASS),
//  SPACE=(&NAMBLK,(&NAMSP,&NAMIN),RLSE),
//  DCB=(RECFM=&NAMRECF,LRECL=&NAMLREC,BLKSIZE=&NAMBLK)
//OUTPUT4  DD  DSN=&&ABSCTL,UNIT=WORK,DISP=(NEW,PASS),
//  SPACE=(TRK,(1,1),RLSE),DCB=(RECFM=FB,LRECL=80,BLKSIZE=400)
//FILE1  DD  DSN=&&TEMP1,DISP=(NEW,DELETE,DELETE),UNIT=WORK,
//  SPACE=(&CBKBLK,(&TMPSP))
//FILE2  DD  DSN=&&TMPOBJ,DISP=(OLD,PASS),SPACE=(&CBKBLK,(&TOBSP))
//SYSIN  DD  DDNAME=CODEBOOK
//CODEBOOK  DD  DUMMY
//*
//*
//SORT  EXEC  PGM=&SORTPGM,REGION=&CBKMAX,
//  COND=((0,LT,SYSCNTRL),(0,LT,CB))
//* *****     SORT THE NAME RECORDS INTO ALPHABETIC SEQUENCE    *******
//SORTLIB  DD  DSN=SYS1.SORTLIB,DISP=SHR                             <<
//SYSIN  DD  DSN=&&SORTCTL,DISP=(OLD,PASS)
//SYSOUT  DD  SYSOUT=&LISTING
//SORTMSGS  DD  SYSOUT=&LISTING
//SORTIN  DD  DSN=&&NAMEREC,DISP=(OLD,PASS)
//SORTOUT  DD  DSN=&&NAMEREC,SPACE=(&NAMBLK,(&NAMSP,&NAMIN),RLSE),
//  DISP=(OLD,PASS)
//SORTWK01  DD  DSN=&&WORK1,DISP=(OLD,DELETE)
//SORTWK02  DD  DSN=&&WORK2,DISP=(OLD,DELETE)
//SORTWK03  DD  DSN=&&WORK3,DISP=(OLD,DELETE)
//SORTWK04  DD  DSN=&&WORK4,DISP=(OLD,DELETE)
//SORTWK05  DD  DSN=&&WORK5,DISP=(OLD,DELETE)
//SORTWK06  DD  DSN=&&WORK6,DISP=(OLD,DELETE)
//*
//*
//WRITEIT  EXEC  PGM=&MONITOR,REGION=&CBKMAX,
//  PARM='FILE=&CBKBLK,FREE=&FREE,MAX=&CORE,&WRTOPT',
//  COND=((0,LT,SYSCNTRL),(4,LT,CB),(0,LT,SORT))
//* *****     WRITE THE OBJECT CODEBOOK ON TEMPORARY DISK SPACE,*******
//* *****        INSERT IT INTO THE CODEBOOK LIBRARY, AND THEN  *******
//* *****        CREATE THE ABSTRACT LISTING OF ITS CONTENTS.   *******
//STEPLIB  DD  DSN=&MONLIB,DISP=SHR
//PROGRAM  DD  DSN=&WRIDSN,DISP=SHR
//  DD  DSN=&LIBDSN,DISP=SHR
//  DD  DSN=&ABSDSN,DISP=SHR
//SYSPRINT  DD  SYSOUT=&LISTING
//OUTPUT3  DD  SYSOUT=&LISTING,DCB=(RECFM=FA,LRECL=133,BLKSIZE=133)
//OUTPUT4  DD  DSN=&&ABSCTL,UNIT=WORK,DISP=(OLD,DELETE,DELETE),
//  SPACE=(TRK,(1,1),RLSE),DCB=(RECFM=FB,LRECL=80,BLKSIZE=400)
//FILE1  DD  DSN=&&TMPOBJ,DISP=(OLD,DELETE,DELETE),
//  SPACE=(&CBKBLK,(&TOBSP),RLSE)
//FILE2  DD  DSN=*.FILE1,VOL=REF=*.FILE1,DISP=(SHR,DELETE,DELETE)
//FILE3  DD  DSN=&&TEMP2,UNIT=WORK,SPACE=(&CBKBLK,(&TMPSP)),
//  DISP=(NEW,DELETE,DELETE)
//FILE4  DD  DSN=&QUOT.&CBPREFX..CB.V&CBVER..&CBN.&QUOT,
//  DISP=(SHR,KEEP,KEEP)
//FILE5  DD  DSN=&LOKDSN,DISP=SHR
//SYSIN  DD  DUMMY
//INPUT2  DD  DSN=*.OUTPUT4,VOL=REF=*.OUTPUT4,DISP=(SHR,DELETE,DELETE)
//INPUT3  DD  DSN=&&NAMEREC,DISP=(OLD,DELETE,DELETE)
//NAMEREC  DD  DSN=&&NAMEREC,DISP=(OLD,DELETE,DELETE)
//INPUT4  DD  DUMMY
//INPUT5  DD  DUMMY
//INPUT7  DD  DUMMY
//SORTCTL  DD  DSN=&&SORTCTL,DISP=(OLD,DELETE,DELETE)
//*      END OF THE PROCEDURE TO ADD A NEW CODEBOOK OR REPLACE AN
//*           EXISTING CODEBOOK IN A CODEBOOK LIBRARY.
//*  PEND
