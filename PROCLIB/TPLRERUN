//TPLRERUN  PROC  OWNER=, ACCOUNT & INITIALS PREFIX FOR STORED OUTPUT
//     SAVNAME=,        NAME WHICH IDENTIFIES SAVED OUTPUT
//*    SAVUNIT=TSOWRK,  UNIT TYPE FOR SAVED OUTPUT                   <<
//     TBCSEQ=1,        DATASET SEQUENCE # FOR TBCELLS
//     CONSEQ=2,        DATASET SEQUENCE # FOR CONSTR
//     TBSSEQ=3,        DATASET SEQUENCE # FOR TBSPECS
//     LAB=SL,          LABEL TYPE FOR STORED OUTPUT
//     LISTING='A',     SYSOUT SPECIFICATION FOR ALL LISTINGS        <<
//     TABLES='A',      SYSOUT SPECIFICATION IF TABLES SEPARATED     <<
//     CORE=500K,       REGION ACTUALLY USED FOR PROGRAM OF TPL STEP
//     TPLMAX=2000K,    MAXIMUM REGION USED DURING TPL STEP
//     PSRCORE=500K,    REGION SIZE FOR PCLSORT STEP
//     LAYCORE=500K,    REGION ACTUALLY USED FOR PROGRAM OF LAYOUT STEP
//     LAYMAX=2000K,    MAXIMUM REGION USED DURING LAYOUT STEP
//     WKUN=WORK,      DEVICE TYPE FOR SORT WORKFILES
//     WKSP=800,        NO. OF BLKS FOR SORT WORKFILES
//     COORSP=1000,     NO. OF BLKS FOR COORDINATES WORKFILE
//     SPC2SP=200,      NO. OF BLKS FOR PCL'S NEW TBSPECS WORKFILE
//     TSLDSN='SYS2.TPL.V6.TYPE.STYLES', NAME OF TYPE STYLE LIBRARY<<
//     STYLE=NOPH, WAS=SET1, NAME OF DEFAULT TYPE STYLE   <<
//     CALPRE='SYS2.TPL.V6', NT & INITIALS PREFIX FOR USE IN PHOTO   <<
//     CALNAME='MMMM',  NAME FOR USE IN PHOTO
//     CALTYPE=NEW,     STATUS FOR USE IN PHOTO
//     CALDISP=CATLG,   TO PERMIT CATALOGING IN PHOTO
//     CALMOD=OLD,      FOR USE OF MOD IN PHOTO
//     CALSP=640,       INITIAL SPACE IN BLOCKS FOR USE IN PHOTO
//     CALIN=160,       SECONDARY SPACE FOR USE IN PHOTO
//*    CALUNIT=TSOWRK,  UNIT TYPE FOR USE IN PHOTO                   <<
//*    CALSEQ=1,        DATASET SEQUENCE # FOR USE IN PHOTO
//*    CALLAB=SL,       LABEL TYPE FOR USE IN PHOTO
//*    EXPRET='RETPD',  CHOICE: 'EXPDT' OR 'RETPD' IF TAPE CALL FILE <<
//*    RETPD=00,       # OF DAYS TO RETAIN CALL FILE IF ON TAPE     <<
//     DICNAME='BLS.HYPHEN.DICT', NAME OF DICTIONARY
//     DICPRE='SYS2.TPL.V6', PREFIX FOR DICTIONARY DSNAME            <<
//     PRODSN='SYS2.TPL.V6.DEFAULT.PROFILE', DSNAME OF PROFILE       <<
//     CALBLK=1300,CALLREC=130,CALRECF=FB,
//     COBLK=2976,COLRECL=24,CORECFM=FB,
//     CONTROL=IEFBR14,CONMAX=100K,
//     FREE=100,
//     LAYDSN='SYS2.TPL.V6.OBJLIB(LAYOBJ)',
//     LAYOPT=,
//     MONITOR=TPLMONTR,
//     MONLIB='SYS2.TPL.V6.LOADLIB', <<
//     PCLDSN='SYS2.TPL.V6.OBJLIB(PCLOBJ)',
//     QUOT=,    *'''',
//     SORTPGM=SORT,                                                 <<
//     TPLBLK=2976,
//     TPLOPT=,
//     VER=6
//*********************************************************************
//*                                                                   *
//*      T P L R E R U N - - A PROCEDURE FOR RETRIEVING STORED TPL    *
//*           OUTPUT AND REPRINTING THE TABLES, ALLOWING OPTIONAL PCL *
//*           STATEMENTS TO BE ADDED IN ORDER TO MODIFY THE TABLES.   *
//*                                                                   *
//*           VALUES FOR THE FOLLOWING PARAMETERS MUST BE SUPPLIED:   *
//*           OWNER='CNaaaa.iii',SAVNAME='named o/p'    *
//*                                                                   *
//*           WHERE:                                                  *
//*                                                                   *
//*           OWNER   = THE ACCOUNT NUMBER & INITIALS UNDER WHICH THE *
//*                     SAVED OUTPUT IS STORED.                       *
//*           SAVNAME = THE NAME USED TO IDENTIFY THE SAVED OUTPUT.   *
//*                                                                   *
//*     ANY PCL STATEMENTS MODIFYING THE REQUEST, IF PRESENT, MUST    *
//*          BE PLACED AFTER A "//TPL.CHANGES" DD CARD.               *
//*                                                                   *
//*     THIS PROCEDURE EXECUTES VERSION 6 OF THE TPL SYSTEM.          *
//*                                                                   *
//*     IN CASE OF PROBLEMS, CONTACT THE TPL SYSTEM TEAM.             *
//*            TELEPHONE:  357-9999                                   *
//*                                          LAST UPDATED ON 08/21/84 *
//*********************************************************************
//*
//*
//SYSCNTRL  EXEC  PGM=&CONTROL,REGION=&CONMAX
//* *****     ALLOCATE WORKING DATASETS                         *******
//SPECSIN  DD  DSN=&QUOT.&OWNER..TPL.&SAVNAME..V&VER..TBSPECS&QUOT,
//  DISP=(SHR,PASS),LABEL=(&TBSSEQ,&LAB)
//TBCELLS  DD  DSN=&QUOT.&OWNER..TPL.&SAVNAME..V&VER..TBCELLS&QUOT,
//  LABEL=(&TBCSEQ,&LAB),
//  DISP=(SHR,PASS)
//CONSTR  DD  DSN=&QUOT.&OWNER..TPL.&SAVNAME..V&VER..CONSTR&QUOT,
//  LABEL=(&CONSEQ,&LAB),
//  DISP=(SHR,KEEP)
//COORD  DD  DSN=&&COORD,UNIT=SYSDA,DISP=(NEW,PASS),
//  DCB=(RECFM=&CORECFM,LRECL=&COLRECL,BLKSIZE=&COBLK),
//  SPACE=(&TPLBLK,(&COORSP))
//COORD2  DD  DSN=*.COORD,VOL=REF=*.COORD,DISP=(SHR,PASS)
//TBSPECS  DD  DSN=&&TBSPECS,UNIT=WORK,DISP=(NEW,PASS),
//  SPACE=(&TPLBLK,(&SPC2SP))
//SORTWK01  DD  DSN=&&WORK1,DISP=(NEW,PASS),
//  UNIT=&WKUN,SPACE=(&TPLBLK,(&WKSP),,CONTIG)
//SORTWK02  DD  DSN=&&WORK2,DISP=(NEW,PASS),
//  UNIT=&WKUN,SPACE=(&TPLBLK,(&WKSP),,CONTIG)
//SORTWK03  DD  DSN=&&WORK3,DISP=(NEW,PASS),
//  UNIT=&WKUN,SPACE=(&TPLBLK,(&WKSP),,CONTIG)
//SORTWK04  DD  DSN=&&WORK4,DISP=(NEW,PASS),
//  UNIT=&WKUN,SPACE=(&TPLBLK,(&WKSP),,CONTIG)
//SORTWK05  DD  DSN=&&WORK5,DISP=(NEW,PASS),
//  UNIT=&WKUN,SPACE=(&TPLBLK,(&WKSP),,CONTIG)
//SORTWK06  DD  DSN=&&WORK6,DISP=(NEW,PASS),
//  UNIT=&WKUN,SPACE=(&TPLBLK,(&WKSP),,CONTIG)
//PROFILE  DD  DSN=&PRODSN,DISP=SHR
//*
//*
//TPL  EXEC  PGM=&MONITOR,REGION=&TPLMAX,
//  PARM='FILE=&TPLBLK,FREE=&FREE,MAX=&CORE,&TPLOPT',
//  COND=(0,LT,SYSCNTRL)
//* *****     THE PCL TRANSLATOR STEP                           *******
//STEPLIB  DD  DSN=&MONLIB,DISP=(SHR,PASS)
//PROGRAM  DD  DSN=&PCLDSN,DISP=SHR
//SYSPRINT  DD  SYSOUT=&LISTING
//SYSPUNCH  DD  DSN=&&PCLSORT,UNIT=WORK,SPACE=(TRK,(1,1),RLSE),
//  DCB=(RECFM=FB,LRECL=80,BLKSIZE=400),DISP=(NEW,PASS)
//OUTPUT7  DD  SYSOUT=&LISTING,DCB=(RECFM=FA,LRECL=133,BLKSIZE=133)
//FILE1  DD  DSN=&QUOT.&OWNER..TPL.&SAVNAME..V&VER..TBSPECS&QUOT,
//  LABEL=(&TBSSEQ,&LAB),DISP=(SHR,KEEP)
//FILE3  DD  DSN=&&COORD,DISP=(OLD,PASS),
//  SPACE=(&TPLBLK,(&COORSP),RLSE)
//FILE4  DD  DSN=&&TBSPECS,DISP=(OLD,PASS),
//  SPACE=(&TPLBLK,(&SPC2SP),RLSE)
//FILE8  DD  DSN=&DICPRE..&DICNAME..DICOBJ,DISP=SHR
//SYSIN  DD  DUMMY
//INPUT3  DD  DSN=&PRODSN,DISP=SHR
//  DD  DDNAME=CHANGES
//CHANGES  DD  DUMMY
//INPUT4  DD  DSN=&QUOT.&OWNER..TPL.&SAVNAME..V&VER..CONSTR&QUOT,
//  LABEL=(&CONSEQ,&LAB),DISP=(SHR,KEEP)
//INPUT7  DD  DUMMY
//*
//*
//PCLSORT  EXEC  PGM=&SORTPGM,REGION=&PSRCORE,
//  COND=((0,LT,SYSCNTRL),(8,LT,TPL))
//* *****     SORT THE COORDINATE RECORDS FOR PCL               *******
//SORTLIB  DD  DSN=SYS1.SORTLIB,DISP=SHR                             <<
//SYSIN  DD  DSN=&&PCLSORT,DISP=(OLD,DELETE,DELETE)
//SYSOUT  DD  SYSOUT=&LISTING
//SORTMSGS  DD  SYSOUT=&LISTING
//SORTIN  DD  DSN=&&COORD,DISP=(OLD,PASS),
//  DCB=(RECFM=&CORECFM,LRECL=&COLRECL,BLKSIZE=&COBLK)
//SORTOUT  DD  DSN=&&COORD,DISP=(OLD,PASS),
//  DCB=(RECFM=&CORECFM,LRECL=&COLRECL,BLKSIZE=&COBLK)
//SORTWK01  DD  DSN=&&WORK1,DISP=(OLD,DELETE,DELETE)
//SORTWK02  DD  DSN=&&WORK2,DISP=(OLD,DELETE,DELETE)
//SORTWK03  DD  DSN=&&WORK3,DISP=(OLD,DELETE,DELETE)
//SORTWK04  DD  DSN=&&WORK4,DISP=(OLD,DELETE,DELETE)
//SORTWK05  DD  DSN=&&WORK5,DISP=(OLD,DELETE,DELETE)
//SORTWK06  DD  DSN=&&WORK6,DISP=(OLD,DELETE,DELETE)
//*
//*
//LAYOUT  EXEC  PGM=&MONITOR,REGION=&LAYMAX,
//  PARM='FILE=&TPLBLK,FREE=&FREE,MAX=&LAYCORE,&LAYOPT',
//  COND=((0,LT,SYSCNTRL),(8,LT,TPL),(0,LT,PCLSORT))
//* *****     THE TABLE LAYOUT AND PRINTING STEP                *******
//STEPLIB  DD  DSN=&MONLIB,DISP=SHR
//PROGRAM  DD  DSN=&LAYDSN,DISP=SHR
//SYSPRINT  DD  SYSOUT=&LISTING
//OUTPUT7  DD  SYSOUT=&TABLES,DCB=(RECFM=FA,LRECL=133,BLKSIZE=133)
//OUTPUT4  DD  SYSOUT=&LISTING,DCB=(RECFM=FA,LRECL=133,BLKSIZE=133)
//SYSPUNCH  DD  SYSOUT=&LISTING,DCB=(RECFM=FA,LRECL=133,BLKSIZE=133)
//FILE3  DD  DSN=&&COORD,DISP=(OLD,DELETE,DELETE)
//FILE4  DD  DSN=&&TBSPECS,DISP=(OLD,DELETE,DELETE)
//FILE6  DD  DSN=&QUOT.&OWNER..TPL.&SAVNAME..V&VER..TBCELLS&QUOT,
//  LABEL=(&TBCSEQ,&LAB),DISP=SHR
//SYSIN  DD  DUMMY
//INPUT5  DD  DSN=&TSLDSN(&STYLE.CON),DISP=(SHR,KEEP)
//COORD  DD  DSN=&&COORD,DISP=(OLD,DELETE,DELETE)
//CALLFILE  DD  DUMMY,SPACE=(&CALBLK,(&CALSP,&CALIN),RLSE),
//  DSN=&QUOT.&CALPRE.&CALMOD.VIDEO.CALL.&CALNAME.&QUOT,
//  DISP=(&CALTYPE,&CALDISP,KEEP),UNIT=TSOWRK,
//* LABEL=(&CALSEQ,&CALLAB,&EXPRET=&RETPD),                          <<
//  DCB=(RECFM=&CALRECF,LRECL=&CALLREC,BLKSIZE=&CALBLK)
//*     END OF PROCEDURE FOR RETRIEVING STORED TPL OUTPUT AND REPRINTING
//*          THE TABLES, WITH OPTIONAL PCL STATEMENTS ADDED.
//*  PEND
